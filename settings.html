<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Settings - SecureBank Enterprise</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <div class="logo-icon">SB</div>
                    <div class="logo-text">SecureBank</div>
                </div>
                <div class="user-info">
                    <div class="user-avatar">JD</div>
                    <div class="user-details">
                        <h4>2303A52336</h4>
                        <p>Premium Customer</p>
                    </div>
                </div>
            </div>
            
            <nav>
                <ul class="nav-menu">
                    <li class="nav-item">
                        <a href="index.html" class="nav-link">
                            <div class="nav-icon">üìä</div>
                            Dashboard
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="accounts.html" class="nav-link">
                            <div class="nav-icon">üí∞</div>
                            Accounts
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="transactions.html" class="nav-link">
                            <div class="nav-icon">üí∏</div>
                            Transactions
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="payments.html" class="nav-link">
                            <div class="nav-icon">üí≥</div>
                            Payments
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="analytics.html" class="nav-link">
                            <div class="nav-icon">üìà</div>
                            Analytics
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="simple-interest.html" class="nav-link">
                            <div class="nav-icon">üßÆ</div>
                            Simple Interest
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="settings.html" class="nav-link active">
                            <div class="nav-icon">‚öôÔ∏è</div>
                            Settings
                        </a>
                    </li>
                </ul>
            </nav>
        </aside>

        <!-- Header -->
        <header class="header">
            <div class="breadcrumb">
                <span>Settings</span>
                <span>‚Ä∫</span>
                <span>Account Settings</span>
            </div>
            
            <div class="header-actions">
                <div class="search-box">
                    <input type="text" class="search-input" placeholder="Search settings...">
                    <div class="search-icon">üîç</div>
                </div>
                
                <button class="notifications-btn">
                    <span>üîî</span>
                    <div class="notification-badge"></div>
                </button>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main">
            <!-- Account Settings -->
            <div class="settings-grid">
                <div class="settings-card">
                    <h3>Account Settings</h3>
                    <div class="setting-item">
                        <label>Account Holder Name:</label>
                        <input type="text" value="2303A52336" class="form-input">
                    </div>
                    <div class="setting-item">
                        <label>Email:</label>
                        <input type="email" value="2303a52336@sru.edu.im" class="form-input">
                    </div>
                    <div class="setting-item">
                        <label>Phone:</label>
                        <input type="tel" value="+91 ***** *****" class="form-input">
                    </div>
                    <div class="setting-item">
                        <label>Address:</label>
                        <textarea class="form-input" rows="3">123 Main Street, City, State 12345</textarea>
                    </div>
                    <div class="setting-item">
                        <label>Date of Birth:</label>
                        <input type="date" value="1990-01-15" class="form-input">
                    </div>
                    <button class="btn btn-primary">Update Profile</button>
                </div>
                
                <div class="settings-card">
                    <h3>Interest Settings</h3>
                    <div class="setting-item">
                        <label>Auto-calculate Interest:</label>
                        <input type="checkbox" checked>
                    </div>
                    <div class="setting-item">
                        <label>Interest Display:</label>
                        <select class="form-select">
                            <option>Annual</option>
                            <option>Monthly</option>
                            <option>Daily</option>
                        </select>
                    </div>
                    <div class="setting-item">
                        <label>Interest Notifications:</label>
                        <input type="checkbox" checked>
                    </div>
                    <div class="setting-item">
                        <label>Interest Rate Alerts:</label>
                        <input type="checkbox">
                    </div>
                    <div class="setting-item">
                        <label>Compound Interest:</label>
                        <input type="checkbox">
                    </div>
                    <button class="btn btn-primary">Save Settings</button>
                </div>
                
                <div class="settings-card">
                    <h3>Transaction Settings</h3>
                    <div class="setting-item">
                        <label>Transaction Notifications:</label>
                        <input type="checkbox" checked>
                    </div>
                    <div class="setting-item">
                        <label>Auto-save Transactions:</label>
                        <input type="checkbox" checked>
                    </div>
                    <div class="setting-item">
                        <label>Transaction Limits:</label>
                        <input type="number" value="25000" class="form-input">
                    </div>
                    <div class="setting-item">
                        <label>Daily Limit:</label>
                        <input type="number" value="50000" class="form-input">
                    </div>
                    <div class="setting-item">
                        <label>Undo History:</label>
                        <span id="undoHistoryCount">0 commands</span>
                    </div>
                    <button class="btn btn-danger" id="clearHistoryBtn">Clear History</button>
                </div>
            </div>

            <!-- Security Settings -->
            <div class="analytics-dashboard">
                <div class="section-header">
                    <div class="section-title">
                        <div class="section-icon">üîí</div>
                        Security Settings
                    </div>
                </div>
                <div class="analytics-grid">
                    <div class="settings-card">
                        <h3>Password & Authentication</h3>
                        <div class="setting-item">
                            <label>Current Password:</label>
                            <input type="password" class="form-input" placeholder="Enter current password">
                        </div>
                        <div class="setting-item">
                            <label>New Password:</label>
                            <input type="password" class="form-input" placeholder="Enter new password">
                        </div>
                        <div class="setting-item">
                            <label>Confirm Password:</label>
                            <input type="password" class="form-input" placeholder="Confirm new password">
                        </div>
                        <div class="setting-item">
                            <label>Two-Factor Authentication:</label>
                            <input type="checkbox" checked>
                        </div>
                        <button class="btn btn-primary">Update Password</button>
                    </div>
                    
                    <div class="settings-card">
                        <h3>Session Management</h3>
                        <div class="setting-item">
                            <label>Auto-logout (minutes):</label>
                            <input type="number" value="30" class="form-input">
                        </div>
                        <div class="setting-item">
                            <label>Remember Me:</label>
                            <input type="checkbox" checked>
                        </div>
                        <div class="setting-item">
                            <label>Login Notifications:</label>
                            <input type="checkbox" checked>
                        </div>
                        <div class="setting-item">
                            <label>Active Sessions:</label>
                            <span>2 devices</span>
                        </div>
                        <button class="btn btn-warning">Logout All Devices</button>
                    </div>
                    
                    <div class="settings-card">
                        <h3>Privacy Settings</h3>
                        <div class="setting-item">
                            <label>Data Sharing:</label>
                            <input type="checkbox">
                        </div>
                        <div class="setting-item">
                            <label>Marketing Emails:</label>
                            <input type="checkbox">
                        </div>
                        <div class="setting-item">
                            <label>Analytics Tracking:</label>
                            <input type="checkbox" checked>
                        </div>
                        <div class="setting-item">
                            <label>Location Services:</label>
                            <input type="checkbox">
                        </div>
                        <button class="btn btn-primary">Save Privacy Settings</button>
                    </div>
                </div>
            </div>

            <!-- System Information -->
            <div class="analytics-dashboard">
                <div class="section-header">
                    <div class="section-title">
                        <div class="section-icon">‚ÑπÔ∏è</div>
                        System Information
                    </div>
                </div>
                <div class="analytics-grid">
                    <div class="settings-card">
                        <h3>Account Information</h3>
                        <div class="info-item">
                            <span>Customer ID:</span>
                            <span>CUST-2024-001</span>
                        </div>
                        <div class="info-item">
                            <span>Account Type:</span>
                            <span>Premium</span>
                        </div>
                        <div class="info-item">
                            <span>Member Since:</span>
                            <span>January 15, 2020</span>
                        </div>
                        <div class="info-item">
                            <span>Last Login:</span>
                            <span id="lastLogin">Just now</span>
                        </div>
                        <div class="info-item">
                            <span>Account Status:</span>
                            <span class="status-active">Active</span>
                        </div>
                    </div>
                    
                    <div class="settings-card">
                        <h3>Command History</h3>
                        <div class="info-item">
                            <span>Total Commands:</span>
                            <span id="totalCommands">0</span>
                        </div>
                        <div class="info-item">
                            <span>Successful:</span>
                            <span id="successfulCommands">0</span>
                        </div>
                        <div class="info-item">
                            <span>Failed:</span>
                            <span id="failedCommands">0</span>
                        </div>
                        <div class="info-item">
                            <span>Undo Available:</span>
                            <span id="undoAvailable">0</span>
                        </div>
                        <div class="info-item">
                            <span>Last Command:</span>
                            <span id="lastCommand">None</span>
                        </div>
                    </div>
                    
                    <div class="settings-card">
                        <h3>OOP & Design Patterns</h3>
                        <div class="info-item">
                            <span>Observer Pattern:</span>
                            <span class="status-active">Active</span>
                        </div>
                        <div class="info-item">
                            <span>Strategy Pattern:</span>
                            <span class="status-active">Active</span>
                        </div>
                        <div class="info-item">
                            <span>Command Pattern:</span>
                            <span class="status-active">Active</span>
                        </div>
                        <div class="info-item">
                            <span>Encapsulation:</span>
                            <span class="status-active">Enabled</span>
                        </div>
                        <div class="info-item">
                            <span>Inheritance:</span>
                            <span class="status-active">Enabled</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Recent Activity -->
            <div class="recent-activity">
                <div class="section-header">
                    <div class="section-title">
                        <div class="section-icon">üìú</div>
                        Recent Activity
                    </div>
                </div>
                <div class="transactions-container" id="transactionsList"></div>
            </div>
        </main>
    </div>

    <!-- Notifications -->
    <div class="notifications" id="notifications"></div>

    <!-- JavaScript -->
    <script src="banking.js"></script>
    <script>
        // Initialize banking system
        initBanking();

        // Update settings information
        function updateSettingsInfo() {
            const commandHistory = commandInvoker.history;
            
            document.getElementById("undoHistoryCount").textContent = `${commandHistory.length} commands`;
            document.getElementById("totalCommands").textContent = commandHistory.length;
            document.getElementById("successfulCommands").textContent = commandHistory.length;
            document.getElementById("failedCommands").textContent = "0";
            document.getElementById("undoAvailable").textContent = commandHistory.length;
            document.getElementById("lastCommand").textContent = commandHistory.length > 0 ? 
                commandHistory[commandHistory.length - 1].constructor.name : "None";
        }

        // Clear command history
        document.getElementById("clearHistoryBtn").addEventListener("click", () => {
            if (confirm("Are you sure you want to clear the command history? This action cannot be undone.")) {
                commandInvoker._history = [];
                updateSettingsInfo();
                showNotification("info", "Command history cleared successfully");
            }
        });

        // Search functionality
        const searchInput = document.querySelector(".search-input");
        if (searchInput) {
            searchInput.addEventListener("input", () => {
                renderTransactions();
            });
        }

        // Filter functionality
        function addFilterChips() {
            const activitySection = document.querySelector(".recent-activity .section-header");
            if (!activitySection) return;
            
            const filtersContainer = document.createElement("div");
            filtersContainer.className = "activity-filters";
            filtersContainer.innerHTML = `
                <div class="filter-chip ${currentFilter === 'all' ? 'active' : ''}" data-filter="all">All</div>
                <div class="filter-chip ${currentFilter === 'deposit' ? 'active' : ''}" data-filter="deposit">Deposits</div>
                <div class="filter-chip ${currentFilter === 'withdraw' ? 'active' : ''}" data-filter="withdraw">Withdrawals</div>
                <div class="filter-chip ${currentFilter === 'transfer' ? 'active' : ''}" data-filter="transfer">Transfers</div>
                <div class="filter-chip ${currentFilter === 'payment' ? 'active' : ''}" data-filter="payment">Payments</div>
            `;
            
            activitySection.appendChild(filtersContainer);
            
            filtersContainer.querySelectorAll(".filter-chip").forEach(chip => {
                chip.addEventListener("click", () => {
                    currentFilter = chip.dataset.filter;
                    filtersContainer.querySelectorAll(".filter-chip").forEach(c => c.classList.remove("active"));
                    chip.classList.add("active");
                    renderTransactions();
                });
            });
        }

        // Initialize page
        updateSettingsInfo();
        addFilterChips();
        
        // Update settings info periodically
        setInterval(() => {
            updateSettingsInfo();
        }, 5000);
    </script>

    <style>
        .info-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem 0;
            border-bottom: 1px solid var(--gray-100);
        }

        .info-item:last-child {
            border-bottom: none;
        }

        .info-item span:first-child {
            font-weight: 600;
            color: var(--gray-700);
        }

        .info-item span:last-child {
            font-weight: 700;
            color: var(--primary);
        }

        .status-active {
            color: var(--accent) !important;
            font-weight: 700;
        }

        .settings-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .settings-card {
            background: white;
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-lg);
            padding: 2rem;
            border: 1px solid var(--gray-200);
        }

        .settings-card h3 {
            color: var(--primary);
            margin-bottom: 1.5rem;
            font-size: 1.25rem;
            font-weight: 700;
        }

        .setting-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 0;
            border-bottom: 1px solid var(--gray-100);
        }

        .setting-item:last-child {
            border-bottom: none;
        }

        .setting-item label {
            font-weight: 600;
            color: var(--gray-700);
            flex: 1;
        }

        .setting-item input,
        .setting-item select,
        .setting-item textarea {
            width: 200px;
        }

        .setting-item span {
            font-weight: 600;
            color: var(--primary);
        }
    </style>
</body>
</html>
